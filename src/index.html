<!DOCTYPE html>
<html>
	<head>
		<title>uploader test</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<link href="uploader/progress.css" rel="stylesheet" type="text/css" />
		<script src="uploader/cmstop.uploader.js" type="text/javascript"></script>
	</head>
	<body>
		<span id="up">上传</span>
		<script type="text/javascript">
			var uploader = new Uploader(document.getElementById("up"), {
				/**
				 * 响应脚本
				 * @var String
				 */
				script:'uploader/upload.php?app=apc=aa&a=bb&'

				/**
				 * 是否多选  默认:单选
				 * @var Boolean
				 */
				,multi:true

				/**
				 * 是否选中后自动上传 默认 否
				 * @var Boolean
				 */
				,auto:false

				/**
				 * 是否返回的数据是JSON
				 * @var Boolean
				 */
				,jsonType:false

				/**
				 * 允许上传文件类型 默认:所有文件 格式 : jpg;jpeg;gif;bmp;png|flv;mov;rmvb;mp4
				 * @var String
				 */
				,fileExt:'*.*'

				/**
				 * 允许上传文件类型 默认:所有文件 格式 : 图片|视频
				 * @var String
				 */
				,fileDesc:'所有'

				/**
				 * 需要同步提交的数据, hash格式  可通过inst.setParam(key, val)动态设置
				 * @var Object
				 */
				,params:{kk:'卡卡龙'}
				
				/**
				 * 单次最大队列  默认:无限制
				 * @var uint
				 */
				,queueLengthLimit:0
				
				/**
				 * 单个文件大小限制 默认:无限制
				 * @var uint
				 */
				,sizeLimit:0
				
				/**
				 * 上传文件的字段 默认 : Filedata
				 * @var String
				 */
				,fieldName:'tmp'
				
				/**
				 * 开始选择并填充上传队列
				 * @param null
				 */
				,selectStart:function(){}
				
				/**
				 * 选中一个文件
				 * @param Object {ID:String, file:Object}
				 */
				,selectOne:function(){}

				/**
				 * 选择结束
				 * @param Object {fileCount:uint, allBytesTotal:float}
				 */
				,selectEnd:function(){}

				/**
				 * 文件队列已满
				 * @param uint queueLengthLimit
				 */
				,queueFull:function(){}

				/**
				 * 队列开始上传
				 * @param Object {fileCount:uint, allBytesTotal:float}
				 */
				,queueStart:function(){}

				/**
				 * 一个文件开始调用上传
				 * @param Object {ID:String, file:Object}
				 */
				,uploadStart:function(){}

				/**
				 * 上传进程
				 * @param Object {ID:String, file:Object, speed:float, percentage:float, bytesLoaded:float, allBytesLoaded:float}
				 */
				,uploadProgress:function(){}

				/**
				 * 一个文件上传完成
				 * @param Object {ID:String, file:Object, data:String, fileCount:uint}
				 */
				,uploadComplete:function(){}

				/**
				 * 队列上传完成
				 * @param Object {successCount:uint, errorCount:uint, allBytesLoaded:float}
				 */
				,queueComplete:function(){}

				/**
				 * 队列中文件全部上传成功
				 * @param null
				 */
				,queueSuccess:function(){}

				/**
				 * 退出上传并退出队列
				 * @param Object {ID:String, file:Object}
				 */
				,uploadCancel:function(){}

				/**
				 * 队列被清空
				 * @param null
				 */
				,queueClear:function(){}
				
				/**
				 * 发生错误
				 * @param Object {ID:String, file:Object, type:String, info:String}
				 */
				,error:function(){}
			});
			/*
			<Uploader>.setParam(key:String, val:*):void  添加POST数据，文件开始上传时会合并到协议中
			<Uploader>.bind(eventName:String, action:Function):void 绑定事件
			<Uploader>.upload(ID:String = null):void 开始上传
			  触发事件 queueStart, uploadStart, uploadProgress, uploadComplete, queueComplete, queueSuccess, error
			<Uploader>.cancel(ID:String):void 退出单个上传 触发事件uploadCancel
			<Uploader>.clear(void):void 清空队列 触发事件queueClear, uploadCancel
			Uploader.setDebug() 开启调试模式
			*/
		</script>
	</body>
</html>